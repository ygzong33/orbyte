<!DOCTYPE html>
<html lang="tr">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ORBYTE // ADMIN V2.0</title>
    <!-- CSS -->
    <link rel="stylesheet" href="../css/admin.css">
    <!-- FontAwesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <!-- Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600&family=Courier+New&display=swap"
        rel="stylesheet">
</head>

<body>

    <!-- LOGIN SCREEN -->
    <div id="loginScreen" class="login-screen">
        <div class="login-box">
            <div class="glitch" data-text="SYSTEM LOCK">SYSTEM_LOCK</div>
            <p style="color: #888; margin-bottom: 20px;">/// SECURIZED ACCESS PANEL ///</p>

            <form onsubmit="event.preventDefault(); APP.login(this.user.value, this.pass.value);">
                <input type="text" name="user" class="cyber-input" placeholder="USERNAME"
                    style="margin-bottom: 10px; text-align: center;">
                <input type="password" name="pass" class="cyber-input" placeholder="PASSWORD"
                    style="margin-bottom: 20px; text-align: center;">
                <button type="submit" class="cyber-btn" style="width: 100%;">[ UNLOCK ]</button>
            </form>
            <div style="margin-top:20px; font-size: 0.7rem; color: #444;">
                IP: <span id="user-ip">DETECTING...</span>
            </div>
        </div>
    </div>

    <!-- MAIN APP LAYOUT -->
    <div id="app" class="admin-layout" style="display: none;">

        <!-- SIDEBAR -->
        <aside class="sidebar">
            <div class="brand">
                <i class="fas fa-terminal" style="margin-right: 10px;"></i> ORBYTE_OS
            </div>

            <nav class="nav-links">
                <a href="#" class="nav-item active" data-page="dashboard">
                    <i class="fas fa-chart-line"></i> Dashboard
                </a>
                <a href="#" class="nav-item" data-page="offers">
                    <i class="fas fa-inbox"></i> Teklifler
                    <span class="badge" style="position: relative; top:0; right:0; margin-left: auto;">NEW</span>
                </a>
                <a href="#" class="nav-item" data-page="news">
                    <i class="fas fa-newspaper"></i> Haberler
                </a>
                <a href="#" class="nav-item" data-page="users">
                    <i class="fas fa-users"></i> Kullanıcılar
                </a>
                <a href="#" class="nav-item" data-page="logs">
                    <i class="fas fa-history"></i> Loglar
                </a>
                <a href="#" class="nav-item" data-page="settings">
                    <i class="fas fa-cog"></i> Ayarlar
                </a>
            </nav>

            <div class="user-profile">
                <div class="user-avatar"><i class="fas fa-user-astronaut"></i></div>
                <div style="flex: 1;">
                    <div id="profile-name" style="font-weight: 600; font-size: 0.9rem;">Admin</div>
                    <div id="profile-role" style="font-size: 0.7rem; color: #888;">System OP</div>
                </div>
                <button id="btnLogout" style="background: none; border: none; color: #888; cursor: pointer;"><i
                        class="fas fa-sign-out-alt"></i></button>
            </div>
        </aside>

        <!-- TOP BAR -->
        <header class="top-bar">
            <div class="search-bar">
                <i class="fas fa-search" style="color: #666; margin-right: 10px;"></i>
                <input type="text" placeholder="Komut veya arama (CTRL+K)...">
            </div>

            <div class="header-actions">
                <span id="sys-time" style="font-family: monospace; color: var(--primary-color);">12:00:00</span>
                <button class="action-btn">
                    <i class="fas fa-bell"></i>
                    <span class="badge">3</span>
                </button>
                <button class="action-btn"><i class="fas fa-envelope"></i></button>
            </div>
        </header>

        <!-- MAIN CONTENT AREA -->
        <main class="main-content">

            <!-- PAGE: DASHBOARD -->
            <div id="page-dashboard" class="page-section active">
                <h2 style="border-bottom: 1px solid #333; padding-bottom: 15px; margin-bottom: 25px;"><i
                        class="fas fa-home"></i> SİSTEM ÖZETİ</h2>

                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-label">Toplam Teklif</div>
                        <div class="stat-value" id="stat-total-offers">0</div>
                        <div style="font-size: 0.8rem; color: var(--primary-color);">+12% geçen hafta</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-label">Bugün Gelen</div>
                        <div class="stat-value" id="stat-today-offers">0</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-label">Sistem Durumu</div>
                        <div class="stat-value" id="stat-system-status"
                            style="color: var(--success); font-size: 1.5rem;">ONLINE</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-label">Aktif Ziyaretçi</div>
                        <div class="stat-value">14</div>
                    </div>
                </div>

                <div class="data-table-wrapper">
                    <div
                        style="padding: 15px; border-bottom: 1px solid #333; display: flex; justify-content: space-between;">
                        <span><i class="fas fa-stream"></i> SON AKTİVİTELER</span>
                        <button class="cyber-btn" style="font-size: 0.7rem;">TÜMÜNÜ GÖR</button>
                    </div>
                    <div id="dashboard-activity-list" style="max-height: 250px; overflow-y: auto;">
                        <!-- Dynamic Logs -->
                    </div>
                </div>
            </div>

            <!-- PAGE: OFFERS (CRM) -->
            <div id="page-offers" class="page-section">
                <h2 style="border-bottom: 1px solid #333; padding-bottom: 15px; margin-bottom: 25px;">
                    <i class="fas fa-inbox"></i> TEKLİF YÖNETİMİ & CRM
                </h2>

                <div style="margin-bottom: 20px; display: flex; gap: 10px;">
                    <input type="text" class="cyber-input" placeholder="Müşteri veya hizmet ara..."
                        onkeyup="APP.renderOffers(this.value)">
                    <button class="cyber-btn">DIŞA AKTAR (XLSX)</button>
                </div>

                <div class="data-table-wrapper">
                    <table class="data-table">
                        <thead>
                            <tr>
                                <th>ID</th>
                                <th>MÜŞTERİ</th>
                                <th>HİZMET</th>
                                <th>TARİH</th>
                                <th>DURUM</th>
                                <th>İŞLEM</th>
                            </tr>
                        </thead>
                        <tbody id="offers-table-body">
                            <!-- JS Generated Rows -->
                        </tbody>
                    </table>
                </div>
            </div>

            <!-- PAGE: NEWS -->
            <div id="page-news" class="page-section">
                <h2 style="border-bottom: 1px solid #333; padding-bottom: 15px; margin-bottom: 25px;">
                    <i class="fas fa-pen-nib"></i> İÇERİK YÖNETİMİ
                </h2>

                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 30px;">
                    <!-- Create Form -->
                    <div class="stat-card">
                        <h3 style="margin-top: 0; color: var(--primary-color);">YENİ HABER</h3>
                        <br>
                        <input type="text" id="news-title" class="cyber-input" placeholder="Başlık"
                            style="margin-bottom: 10px;">
                        <textarea id="news-summary" class="cyber-input" placeholder="Özet / İçerik"
                            style="margin-bottom: 10px; height: 100px;"></textarea>
                        <button onclick="APP.saveNews()" class="cyber-btn" style="width: 100%;">[ YAYINLA ]</button>
                    </div>

                    <!-- List -->
                    <div class="stat-card" style="max-height: 500px; overflow-y: auto;">
                        <h3 style="margin-top: 0;">YAYINDAKİLER</h3>
                        <div id="news-list" style="margin-top: 20px;">
                            <!-- JS List -->
                        </div>
                    </div>
                </div>
            </div>

            <!-- PAGE: USERS -->
            <div id="page-users" class="page-section">
                <h2 style="border-bottom: 1px solid #333; padding-bottom: 15px; margin-bottom: 25px;">
                    <i class="fas fa-users"></i> KULLANICI YÖNETİMİ
                </h2>

                <div style="display: grid; grid-template-columns: 1fr 2fr; gap: 30px;">
                    <!-- Create Form -->
                    <div class="stat-card">
                        <h3 style="margin-top: 0; color: var(--primary-color);">YENİ KULLANICI</h3>
                        <br>
                        <input type="text" id="user-name" class="cyber-input" placeholder="Kullanıcı Adı"
                            style="margin-bottom: 10px;">
                        <input type="password" id="user-pass" class="cyber-input" placeholder="Parola"
                            style="margin-bottom: 10px;">
                        <select id="user-role" class="cyber-input" style="margin-bottom: 10px;"
                            onchange="APP.updateRoleDescription()">
                            <optgroup label="ÜST SEVİYE / SYSTEM">
                                <option value="Root">Root / Super Admin</option>
                                <option value="SysAdmin">System Admin</option>
                            </optgroup>
                            <optgroup label="YÖNETİM & OPERASYON">
                                <option value="SiteManager">Site Yöneticisi</option>
                                <option value="OpsManager">Operasyon Sorumlusu</option>
                                <option value="Support">Destek Ekibi</option>
                            </optgroup>
                            <optgroup label="İÇERİK & MEDYA">
                                <option value="Editor">Editör</option>
                                <option value="Writer">Yazar</option>
                                <option value="SEO">SEO Uzmanı</option>
                            </optgroup>
                            <optgroup label="FORUM & TOPLULUK">
                                <option value="Moderator">Forum Moderatörü</option>
                                <option value="Community">Topluluk Yöneticisi</option>
                            </optgroup>
                            <optgroup label="SATIŞ & CRM">
                                <option value="SalesRep">Satış Temsilcisi</option>
                                <option value="SalesManager">Satış Yöneticisi</option>
                            </optgroup>
                            <optgroup label="SİSTEM & AI">
                                <option value="AITrainer">AI Eğitmeni</option>
                                <option value="DataAnalyst">Veri Analisti</option>
                            </optgroup>
                            <optgroup label="SINIRLI / ÖZEL">
                                <option value="Observer">Gözlemci (Read-Only)</option>
                                <option value="Auditor">Denetçi (Audit)</option>
                                <option value="Guest">Misafir Paneli</option>
                            </optgroup>
                            <optgroup label="ÖZEL AMAÇLI">
                                <option value="Customer">Müşteri Paneli</option>
                                <option value="Dealer">Bayi / Partner</option>
                                <option value="Beta">Beta Tester</option>
                            </optgroup>
                        </select>
                        <p id="role-desc-text"
                            style="font-size: 0.75rem; color: var(--primary-color); margin-bottom: 20px; font-style: italic;">
                            > Tüm sistem ayarları, Kullanıcı ve Rol yönetimi, Sistem Silme/Reset.
                        </p>
                        <button onclick="APP.addUser()" class="cyber-btn" style="width: 100%;">[ EKLE ]</button>
                    </div>

                    <!-- List -->
                    <div class="stat-card">
                        <h3 style="margin-top: 0;">MEVCUT KULLANICILAR</h3>
                        <div class="data-table-wrapper" style="margin-top: 20px;">
                            <table class="data-table">
                                <thead>
                                    <tr>
                                        <th>KULLANICI</th>
                                        <th>ROL</th>
                                        <th>SON GİRİŞ</th>
                                        <th>İŞLEM</th>
                                    </tr>
                                </thead>
                                <tbody id="users-table-body">
                                    <!-- JS Generated Rows -->
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>

            <!-- PAGE: LOGS -->
            <div id="page-logs" class="page-section">
                <h2 style="border-bottom: 1px solid #333; padding-bottom: 15px; margin-bottom: 25px;">
                    <i class="fas fa-microchip"></i> SİSTEM LOGLARI
                </h2>
                <div class="stat-card" style="height: 500px; overflow: hidden; display: flex; flex-direction: column;">
                    <div
                        style="background: #000; padding: 10px; font-family: monospace; flex: 1; overflow-y: scroll; color: #ccc;">
                        <div style="color: var(--primary-color);">root@orbyte:~$ tail -f /var/log/syslog</div>
                        <br>
                        <div id="full-system-logs">
                            <!-- Simulation -->
                            <div>[SYSTEM] Core services started... OK</div>
                            <div>[AUTH] Database connection... OK</div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- PAGE: SETTINGS -->
            <div id="page-settings" class="page-section">
                <h2 style="border-bottom: 1px solid #333; padding-bottom: 15px; margin-bottom: 25px;">
                    <i class="fas fa-cog"></i> SİSTEM AYARLARI
                </h2>

                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 30px;">
                    <div class="stat-card">
                        <h3>GÖRÜNÜM & TEMA</h3>
                        <p style="color:#666; font-size:0.8rem; margin-bottom:15px;">Panel renk paletini değiştirin.</p>

                        <div style="display:flex; gap:10px;">
                            <button onclick="APP.toggleTheme('default')" class="cyber-btn"
                                style="border-color:#00ff00; color:#00ff00;">CLASSIC (GREEN)</button>
                            <button onclick="APP.toggleTheme('matrix')" class="cyber-btn"
                                style="border-color:#20C20E; color:#20C20E; font-family:'Courier New';">MATRIX</button>
                            <button onclick="APP.toggleTheme('crimson')" class="cyber-btn"
                                style="border-color:#ff0040; color:#ff0040;">CRIMSON</button>
                        </div>

                        <h3 style="margin-top: 20px;" data-i18n="lang_title">DİL SEÇİMİ</h3>
                        <p style="color:#666; font-size:0.8rem; margin-bottom:15px;">Panel dilini değiştirin (Sadece siz
                            etkilenirsiniz).</p>
                        <select id="lang-select" class="cyber-input" onchange="APP.setLanguage(this.value)">
                            <option value="tr">TÜRKÇE (TR)</option>
                            <option value="en">ENGLISH (EN)</option>
                            <option value="de">DEUTSCH (DE)</option>
                            <option value="es">ESPAÑOL (ES)</option>
                        </select>
                    </div>

                    <div class="stat-card">
                        <h3>BAKIM & GÜVENLİK</h3>
                        <label style="display: flex; align-items: center; gap: 10px; margin-top:10px;">
                            <input type="checkbox"> SİTE BAKIM MODU (MAINTENANCE)
                        </label>
                        <br>
                        <button onclick="APP.restoreItem('gelenTeklifler', 0)" class="cyber-btn"
                            style="border-color:#666; color:#888; font-size:0.8rem;">[ DEMO: SON SİLİNENİ GERİ AL
                            ]</button>
                    </div>
                </div>
            </div>

        </main>
    </div>

    <!-- Scripts -->
    <script src="../js/admin_core.js"></script>
    <script>
        // Inline init if needed default runs via admin_core.js
        // Additional FX
        setTimeout(() => {
            document.getElementById('user-ip').innerText = '192.168.1.1 (LOCAL)';
        }, 2000);
    </script>
</body>

</html>